From: YOKOTA Hiroshi <yokota.hgml@gmail.com>
Date: Wed, 15 Sep 2021 00:02:36 +0900
Subject: Trivial fix for PATH_MAX

This fix helps GNU Hurd.
---
 CPP/Windows/FileDir.cpp  | 5 ++++-
 CPP/Windows/FileName.cpp | 5 ++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/CPP/Windows/FileDir.cpp b/CPP/Windows/FileDir.cpp
index de8ec63..c241200 100644
--- a/CPP/Windows/FileDir.cpp
+++ b/CPP/Windows/FileDir.cpp
@@ -882,8 +882,11 @@ bool GetCurrentDir(FString &path)
 {
   path.Empty();
 
+  #ifdef PATH_MAX
   #define MY__PATH_MAX  PATH_MAX
-  // #define MY__PATH_MAX  1024
+  #else
+  #define MY__PATH_MAX  1024
+  #endif
 
   char s[MY__PATH_MAX + 1];
   char *res = getcwd(s, MY__PATH_MAX);
diff --git a/CPP/Windows/FileName.cpp b/CPP/Windows/FileName.cpp
index c3ff854..19fa56f 100644
--- a/CPP/Windows/FileName.cpp
+++ b/CPP/Windows/FileName.cpp
@@ -391,8 +391,11 @@ static bool GetCurDir(UString &path)
 
   #else
 
+  #ifdef PATH_MAX
   #define MY__PATH_MAX  PATH_MAX
-  // #define MY__PATH_MAX  1024
+  #else
+  #define MY__PATH_MAX  1024
+  #endif
 
   char s[MY__PATH_MAX + 1];
   char *res = getcwd(s, MY__PATH_MAX);
